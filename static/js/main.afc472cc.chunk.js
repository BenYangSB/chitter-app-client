(this["webpackJsonpmern-excersize-tracker"]=this["webpackJsonpmern-excersize-tracker"]||[]).push([[0],{104:function(e,t,n){},106:function(e,t,n){},222:function(e,t,n){"use strict";n.r(t);var s=n(3),r=n.n(s),a=n(37),i=n.n(a),c=(n(104),n(20)),o=n(21),u=n(23),l=n(22),h=(n(105),n(106),n(29)),d=n(17),p=n(13);p.a.initializeApp({apiKey:"AIzaSyBCr_gY6WvYDj0NLdxpUHo7YAwgR11Tw6Y",authDomain:"chitter-2aadb.firebaseapp.com",projectId:"chitter-2aadb",storageBucket:"chitter-2aadb.appspot.com",messagingSenderId:"502561152781",appId:"1:502561152781:web:25bcc6c7d2d8ce0aff9a44",measurementId:"G-7LR8VHQYEY"}),p.a.analytics();var j=p.a,b=(new j.auth.FacebookAuthProvider,new j.auth.GoogleAuthProvider,n(2)),g=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){return Object(c.a)(this,n),t.call(this,e)}return Object(o.a)(n,[{key:"render",value:function(){return Object(b.jsxs)("nav",{id:"navBAR",className:"navbar navbar-expand-lg navbar-light bg-light",children:[Object(b.jsx)(h.b,{to:"/",className:"navbar-brand",children:"Chitter"}),Object(b.jsx)("div",{className:"collpase navbar-collapse",children:Object(b.jsxs)("ul",{className:"navbar-nav mr-auto",children:[Object(b.jsx)("li",{className:"navbar-item",children:Object(b.jsx)(h.b,{to:"/",className:"nav-link",children:"Recipies"})}),Object(b.jsx)("li",{className:"navbar-item",children:Object(b.jsx)(h.b,{to:"/create",className:"nav-link",children:"Create new Recipe"})}),Object(b.jsx)("li",{className:"navbar-item",children:Object(b.jsx)(h.b,{to:"/user/discover",className:"nav-link",children:"Discover Other Chefs"})}),Object(b.jsx)("li",{className:"navbar-item",children:Object(b.jsx)(h.b,{to:"/user/trending",className:"nav-link",children:"Trending"})}),Object(b.jsx)("li",{className:"navbar-item",children:Object(b.jsx)(h.b,{to:"/user/profile/"+this.props.userKey,className:"nav-link",children:"My profile"})})]})})]})}}]),n}(s.Component),m=n(18),f=n(14),O=n.n(f),v=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){return Object(c.a)(this,n),t.call(this,e)}return Object(o.a)(n,[{key:"render",value:function(){return Object(b.jsxs)("div",{children:[Object(b.jsx)("h",{children:"Ingredients"}),this.props.ingList.map((function(e){return Object(b.jsx)("li",{children:e})}))]})}}]),n}(s.Component),x=function(e){return Object(b.jsxs)("div",{class:"card",id:"recipe",children:[Object(b.jsx)("h",{children:e.exercise.username}),Object(b.jsxs)("p",{children:["Dish : ",e.exercise.description]}),Object(b.jsxs)("p",{children:["Time to make : ",e.exercise.duration," minutes"]}),Object(b.jsx)(v,{ingList:e.exercise.ingredients}),Object(b.jsx)("br",{}),Object(b.jsx)("p",{children:e.exercise.date.substring(0,10)}),e.exercise.userKey==e.currentKey&&Object(b.jsxs)("p",{children:[Object(b.jsx)(h.b,{to:"/edit/"+e.exercise._id,children:"edit"})," | ",Object(b.jsx)("a",{href:"#",onClick:function(){e.deleteExercise(e.exercise._id)},children:"delete"})]})]})},y=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var s;return Object(c.a)(this,n),(s=t.call(this,e)).deleteExercise=s.deleteExercise.bind(Object(m.a)(s)),s.state={exercises:[]},s}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=[];null!=this.props.currUser&&void 0!=this.props.currUser&&(t=this.props.currUser.following),t.forEach((function(t){O.a.get("https://chitterr-app-api.herokuapp.com/exercises/feed/"+t).then((function(t){var n=e.state.exercises;t.data.forEach((function(e){n.push(e)})),e.setState({exercises:n})})).catch((function(e){console.log(e)}))}))}},{key:"ingList",value:function(e){void 0!=e&&(console.log("HERE"),console.log(e),e.map((function(e){return Object(b.jsx)("li",{children:e})})))}},{key:"deleteExercise",value:function(e){O.a.delete("https://chitterr-app-api.herokuapp.com/exercises/"+e).then((function(e){console.log(e.data)})),this.setState({exercises:this.state.exercises.filter((function(t){return t._id!==e}))})}},{key:"exerciseList",value:function(){var e=this;return this.state.exercises.map((function(t){if(void 0!=t)return console.log("HERE"),console.log(t),Object(b.jsx)(x,{ingList:e.ingList(),currentKey:e.props.currentUserKey,exercise:t,deleteExercise:e.deleteExercise},t._id)}))}},{key:"render",value:function(){return Object(b.jsxs)("div",{class:"absFeed",children:[Object(b.jsx)("div",{class:"feed-title",children:"Feed"}),Object(b.jsx)("div",{class:"feed-total",children:this.exerciseList()})]})}}]),n}(s.Component),C=(n(69),function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var s;return Object(c.a)(this,n),(s=t.call(this,e)).onChangeUsername=s.onChangeUsername.bind(Object(m.a)(s)),s.onChangeDescription=s.onChangeDescription.bind(Object(m.a)(s)),s.onChangeIngredients=s.onChangeIngredients.bind(Object(m.a)(s)),s.onChangeDuration=s.onChangeDuration.bind(Object(m.a)(s)),s.onChangeDate=s.onChangeDate.bind(Object(m.a)(s)),s.onSubmit=s.onSubmit.bind(Object(m.a)(s)),s.state={username:"",description:"",ingredients:"",duration:0,users:[]},s}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var e=this;O.a.get("https://chitterr-app-api.herokuapp.com/exercises/"+this.props.match.params.id).then((function(t){e.setState({username:t.data.username,description:t.data.description,duration:t.data.duration,ingredients:t.data.ingredients.join()})})).catch((function(e){console.log(e)})),O.a.get("https://chitterr-app-api.herokuapp.com/users/").then((function(t){t.data.length>0&&e.setState({users:t.data.map((function(e){return e.username}))})})).catch((function(e){console.log(e)}))}},{key:"onChangeIngredients",value:function(e){this.setState({ingredients:e.target.value})}},{key:"onChangeUsername",value:function(e){this.setState({username:e.target.value})}},{key:"onChangeDescription",value:function(e){this.setState({description:e.target.value})}},{key:"onChangeDuration",value:function(e){this.setState({duration:e.target.value})}},{key:"onChangeDate",value:function(e){this.setState({date:e})}},{key:"onSubmit",value:function(e){e.preventDefault();var t=this.state.ingredients.split(","),n={username:this.state.username,userKey:this.state.userKey,description:this.state.description,date:this.state.date,duration:this.state.duration,ingredients:t};console.log(n),O.a.post("https://chitterr-app-api.herokuapp.com/update/"+this.props.match.params.id,n).then((function(e){return console.log(e.data)}))}},{key:"render",value:function(){return Object(b.jsxs)("div",{class:"absFeed",children:[Object(b.jsx)("h3",{children:"Edit Recipe"}),Object(b.jsxs)("form",{onSubmit:this.onSubmit,children:[Object(b.jsxs)("div",{className:"form-group",children:["Username: ",this.state.username]}),Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{children:"Description: "}),Object(b.jsx)("input",{type:"text",required:!0,className:"form-control",value:this.state.description,onChange:this.onChangeDescription})]}),Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{children:"Duration (in minutes): "}),Object(b.jsx)("input",{type:"text",className:"form-control",value:this.state.duration,onChange:this.onChangeDuration})]}),Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{children:"Ingredients (separated by commas): "}),Object(b.jsx)("input",{type:"text",className:"form-control",value:this.state.ingredients,onChange:this.onChangeIngredients})]}),Object(b.jsx)("div",{className:"form-group",children:Object(b.jsx)("input",{type:"submit",value:"Edit Exercise Log",className:"btn btn-primary"})})]})]})}}]),n}(s.Component)),k=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var s;return Object(c.a)(this,n),(s=t.call(this,e)).state={youtubeAPIResponse:[]},s}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var e=this;["lisa Ngyuen","gordon ramsay","mikey chen"].map((function(t){O.a.get("https://chitterr-app-api.herokuapp.com/users/trending",{headers:{name:t}}).then((function(t){console.log(t.data.items);var n=e.state.youtubeAPIResponse;n=n.concat(t.data.items),console.log(n),e.setState({youtubeAPIResponse:n})}))}))}},{key:"render",value:function(){return Object(b.jsx)("div",{class:"trendingvids",children:this.state.youtubeAPIResponse.map((function(e){return Object(b.jsx)("div",{children:Object(b.jsxs)("div",{class:"card",id:"trendingbody",children:[Object(b.jsx)("h",{children:e.snippet.title}),Object(b.jsx)("div",{class:"trendingpic",children:Object(b.jsx)("img",{src:e.snippet.thumbnails.high.url})}),e.snippet.channelTitle]})})}))})}}]),n}(s.Component),U=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var s;return Object(c.a)(this,n),(s=t.call(this,e)).componentDidMount=function(){O.a.get("https://chitterr-app-api.herokuapp.com/users/"+s.props.userKey).then((function(e){e.data.length>0&&s.setState({user:e.data.map((function(e){return e}))})})).catch((function(e){console.log(e)}))},s.followList=function(){return s.state.user[0].following.map((function(e){return Object(b.jsxs)("p",{children:["Following ",e]})}))},s.state={user:null},s}return Object(o.a)(n,[{key:"render",value:function(){return Object(b.jsx)("div",{class:"trendingvids",children:null!=this.state.user&&Object(b.jsxs)("div",{class:"card",id:"createRecipe",children:[Object(b.jsx)("p",{children:"HELLO  "+this.state.user[0].username}),Object(b.jsx)("div",{children:Object(b.jsxs)("p",{children:["Followers: ",this.state.user[0].followers]})}),Object(b.jsxs)("div",{children:["Following:   ",this.state.user[0].following.length]})]})})}}]),n}(s.Component),D=n(53),S=n.n(D),w=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var s;return Object(c.a)(this,n),(s=t.call(this,e)).onChangeIngredients=s.onChangeIngredients.bind(Object(m.a)(s)),s.onChangeDescription=s.onChangeDescription.bind(Object(m.a)(s)),s.onChangeDuration=s.onChangeDuration.bind(Object(m.a)(s)),s.onChangeDate=s.onChangeDate.bind(Object(m.a)(s)),s.onSubmit=s.onSubmit.bind(Object(m.a)(s)),s.state={ingredients:"",description:"",duration:0,date:new Date,users:[]},s}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var e=this;O.a.get("https://chitterr-app-api.herokuapp.com/users/").then((function(t){t.data.length>0&&e.setState({users:t.data.map((function(e){return e.username}))})})).catch((function(e){console.log(e)}))}},{key:"onChangeIngredients",value:function(e){this.setState({ingredients:e.target.value})}},{key:"onChangeDescription",value:function(e){this.setState({description:e.target.value})}},{key:"onChangeDuration",value:function(e){this.setState({duration:e.target.value})}},{key:"onChangeDate",value:function(e){this.setState({date:e})}},{key:"onSubmit",value:function(e){e.preventDefault();var t=this.state.ingredients.split(","),n={username:this.props.userName,userKey:this.props.userKey,description:this.state.description,duration:this.state.duration,date:this.state.date,ingredients:t};console.log(n),O.a.post("https://chitterr-app-api.herokuapp.com/exercises/add",n).then((function(e){return console.log(e.data)})),this.setState({description:"",duration:0})}},{key:"render",value:function(){return Object(b.jsxs)("div",{class:"createRecipe",children:[Object(b.jsx)("h3",{children:"Post New Recipe!"}),Object(b.jsxs)("form",{onSubmit:this.onSubmit,children:[Object(b.jsx)("div",{className:"form-group",children:Object(b.jsxs)("label",{children:["Username: ",this.props.userName]})}),Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{children:"Description: "}),Object(b.jsx)("input",{type:"text",required:!0,className:"form-control",value:this.state.description,onChange:this.onChangeDescription})]}),Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{children:"Ingredients (separate by commas): "}),Object(b.jsx)("input",{type:"text",className:"form-control",value:this.state.ingredients,onChange:this.onChangeIngredients})]}),Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{children:"Duration (in minutes): "}),Object(b.jsx)("input",{type:"text",className:"form-control",value:this.state.duration,onChange:this.onChangeDuration})]}),Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{children:"Date: "}),Object(b.jsx)("div",{children:Object(b.jsx)(S.a,{selected:this.state.date,onChange:this.onChangeDate})})]}),Object(b.jsx)("div",{className:"form-group",children:Object(b.jsx)("input",{type:"submit",value:"Create Exercise Log",id:"submitBtn"})})]})]})}}]),n}(s.Component),N=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var s;return Object(c.a)(this,n),(s=t.call(this,e)).onFollow=function(e){if(e.userKey!=s.state.userKey&&null!=s.state.currentUser&&void 0!=s.state.currentUser){console.log("HWEHFHDSGFSDJFGSDGFWDFJG");var t=s.state.currentUser.following;if(!t.includes(e.userKey)){t.push(e.userKey),console.log(t);var n={username:s.state.currentUser.username,userKey:s.state.currentUser.userKey,following:t,followers:s.state.currentUser.followers};O.a.post("https://chitterr-app-api.herokuapp.com/users/update/"+s.state.currentUser._id,n).then((function(e){return console.log(e.data)}));var r={username:e.username,userKey:e.userKey,following:e.following,followers:e.followers+1};O.a.post("https://chitterr-app-api.herokuapp.com/users/update/"+e._id,r).then((function(e){return console.log(e.data)}))}s.readUsers()}},s.onUnFollow=function(e){if(e.userKey!=s.state.userKey&&null!=s.state.currentUser&&void 0!=s.state.currentUser){var t=s.state.currentUser.following,n=t.indexOf(e.userKey);if(n>-1){t.splice(n,1),console.log(t);var r={username:s.state.currentUser.username,userKey:s.state.currentUser.userKey,following:t,followers:s.state.currentUser.followers};O.a.post("https://chitterr-app-api.herokuapp.com/users/update/"+s.state.currentUser._id,r).then((function(e){return console.log(e.data)}));var a={username:e.username,userKey:e.userKey,following:e.following,followers:e.followers-1};O.a.post("https://chitterr-app-api.herokuapp.com/users/update/"+e._id,a).then((function(e){return console.log(e.data)}))}s.readUsers()}},s.readUsers=function(){O.a.get("https://chitterr-app-api.herokuapp.com/users/").then((function(e){e.data.length>0&&s.setState({users:e.data.map((function(e){return e}))})})).catch((function(e){console.log(e)})),console.log(s.state.currentUser)},s.onChangeUsername=s.onChangeUsername.bind(Object(m.a)(s)),s.onSubmit=s.onSubmit.bind(Object(m.a)(s)),s.state={users:[],currentUser:null},s}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.readUsers(),O.a.get("https://chitterr-app-api.herokuapp.com/user/discover").then((function(t){null!=t.data&&t.data.length>0&&e.setState({currentUser:t.data[0]})})).catch((function(e){console.log(e)})),console.log(this.state.currentUser)}},{key:"onChangeUsername",value:function(e){this.setState({username:e.target.value})}},{key:"onSubmit",value:function(e){e.preventDefault();var t={username:this.state.username};console.log(t),O.a.post("https://chitterr-app-api.herokuapp.com/users/add",t).then((function(e){return console.log(e.data)})),this.setState({username:""})}},{key:"render",value:function(){var e=this;return Object(b.jsx)("div",{class:"absFeed",children:this.state.users.map((function(t){return Object(b.jsxs)("div",{class:"follow",children:[console.log(t.username),t.username+" -> "+t.followers,null==e.state.currentUser||e.state.currentUser.following.includes(t.userKey)?Object(b.jsx)("button",{id:"followBtn",onClick:function(){return e.onUnFollow(t)},children:"UnFollow!"}):Object(b.jsx)("button",{id:"followBtn",onClick:function(){return e.onFollow(t)},children:"Follow!"})]})}))})}}]),n}(s.Component),I=n(98),K=n.n(I),E=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(c.a)(this,n);for(var s=arguments.length,r=new Array(s),a=0;a<s;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).state={currentUser:null,isSignedIn:!1},e.uiConfig={signInFlow:"popup",signInOptions:[p.a.auth.GoogleAuthProvider.PROVIDER_ID,p.a.auth.FacebookAuthProvider.PROVIDER_ID,p.a.auth.TwitterAuthProvider.PROVIDER_ID,p.a.auth.GithubAuthProvider.PROVIDER_ID,p.a.auth.EmailAuthProvider.PROVIDER_ID],callbacks:{signInSuccess:function(){return!1}}},e.componentDidMount=function(){p.a.auth().onAuthStateChanged((function(t){e.setState({isSignedIn:!!t});var n={username:p.a.auth().currentUser.displayName,userKey:p.a.auth().currentUser.uid,following:[p.a.auth().currentUser.uid],followers:0};O.a.post("https://chitterr-app-api.herokuapp.com/add",n).then((function(e){return console.log(e.data)})),O.a.get("https://chitterr-app-api.herokuapp.com/users/"+n.userKey).then((function(t){null!=t.data&&t.data.length>0&&e.setState({currentUser:t.data[0]})})).catch((function(e){console.log(e)}))}))},e}return Object(o.a)(n,[{key:"render",value:function(){var e=this;return Object(b.jsx)(h.a,{class:"complete",children:Object(b.jsxs)("div",{class:"everything",children:[this.state.isSignedIn&&console.log(p.a.auth().currentUser.uid),this.state.isSignedIn&&Object(b.jsxs)("div",{children:[Object(b.jsx)(g,{userKey:p.a.auth().currentUser.uid}),Object(b.jsx)("br",{}),Object(b.jsx)(d.a,{path:"/",exact:!0,component:function(){return Object(b.jsx)(y,{userKey:p.a.auth().currentUser.uid,currUser:e.state.currentUser,currentUserKey:p.a.auth().currentUser.uid})}}),Object(b.jsx)(d.a,{path:"/user/trending",component:k}),Object(b.jsx)(d.a,{path:"/edit/:id",component:C}),Object(b.jsx)(d.a,{path:"/create",component:function(){return Object(b.jsx)(w,{userKey:p.a.auth().currentUser.uid,userName:p.a.auth().currentUser.displayName})}}),Object(b.jsx)(d.a,{path:"/user/discover",component:function(){return Object(b.jsx)(N,{userKey:p.a.auth().currentUser.uid})}}),Object(b.jsx)(d.a,{path:"/user/profile/:id",component:function(){return Object(b.jsx)(U,{currUser:e.state.currentUser,userKey:p.a.auth().currentUser.uid})}}),Object(b.jsx)("div",{className:"logIn"})]}),Object(b.jsx)("div",{className:"App",children:this.state.isSignedIn?Object(b.jsxs)("span",{id:"loginout",children:[Object(b.jsx)("div",{children:"Signed In!"}),Object(b.jsx)("button",{onClick:function(){return p.a.auth().signOut()},children:"Sign out!"}),Object(b.jsxs)("h1",{id:"welcome",children:["Welcome ",p.a.auth().currentUser.displayName]}),Object(b.jsx)("img",{id:"pfp",alt:"profile picture",src:p.a.auth().currentUser.photoURL})]}):Object(b.jsx)(K.a,{uiConfig:this.uiConfig,firebaseAuth:p.a.auth()})})]})})}}]),n}(r.a.Component),R=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,224)).then((function(t){var n=t.getCLS,s=t.getFID,r=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),s(e),r(e),a(e),i(e)}))};i.a.render(Object(b.jsx)(r.a.StrictMode,{children:Object(b.jsx)(E,{})}),document.getElementById("root")),R()}},[[222,1,2]]]);
//# sourceMappingURL=main.afc472cc.chunk.js.map